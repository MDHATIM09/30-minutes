
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Cart - 30-MINUTES</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-6">
  <h1 class="text-2xl font-bold mb-4">ðŸ›’ Your Cart</h1>
  <div id="cart-items" class="space-y-4"></div>
  <h2 id="total" class="mt-4 text-xl font-semibold">Total: â‚¹0</h2>
  
  <div class="mt-6">
<button onclick="window.location.href='checkout.html'" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition">Proceed to Checkout</button>
  </div>

 <script>
  let cartItems = JSON.parse(localStorage.getItem("cart")) || [];
  let cartStore = localStorage.getItem("cartStore");
  let total = 0;

  function updateCartDisplay() {
    const container = document.getElementById("cart-items");
    container.innerHTML = "";

    if (cartItems.length === 0) {
      container.innerHTML = "<p>Your cart is empty.</p>";
      document.getElementById("total").textContent = "Total: â‚¹0";

      // ðŸ§¹ Clear store if cart empty
      localStorage.removeItem("cartStore");
      return;
    }

    // ðŸ·ï¸ Show cart store
    const storeDiv = document.createElement("div");
    storeDiv.className = "mb-4 text-lg font-medium text-gray-700";
    storeDiv.textContent = "Store: " + cartStore;
    container.appendChild(storeDiv);

    cartItems.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "bg-white p-4 rounded shadow flex items-center space-x-4";

      div.innerHTML = `
        <img src="${item.image}" alt="${item.name}" class="w-24 h-24 object-cover rounded">
        <div class="flex-1">
          <h3 class="font-semibold">${item.name}</h3>
          <p>â‚¹${item.price} x <span id="qty-${index}">${item.quantity}</span></p>
          <div class="mt-2 space-x-2">
            <button onclick="changeQuantity(${index}, 1)" class="px-2 py-1 bg-blue-500 text-white rounded">+</button>
            <button onclick="changeQuantity(${index}, -1)" class="px-2 py-1 bg-red-500 text-white rounded">-</button>
          </div>
        </div>
      `;
      container.appendChild(div);
    });

    calculateTotal();
  }

  function calculateTotal() {
    total = 0;
    cartItems.forEach(item => {
      total += item.price * item.quantity;
    });
    document.getElementById("total").textContent = "Total: â‚¹" + total;
    localStorage.setItem("cart", JSON.stringify(cartItems));
  }

  function changeQuantity(index, delta) {
    cartItems[index].quantity += delta;
    if (cartItems[index].quantity <= 0) {
      cartItems.splice(index, 1);
    }
    
    // Agar sab hata diye to store bhi hatao
    if (cartItems.length === 0) {
      localStorage.removeItem("cartStore");
    }

    updateCartDisplay();
  }

  updateCartDisplay();
</script>

</body>
</html>
